<div class="container">
    <div class="header">
        <h1>{{ title() }}</h1>
        <p class="subtitle">Generate QR codes for text, URLs, social links, and images</p>
    </div>

    <div class="card">
        <div class="form-section">
            <!-- Type Selection -->
            <div class="form-group">
                <label for="type-select">QR Code Type:</label>
                <select id="type-select" [(ngModel)]="type" class="select-input">
                    <option value="text">Text</option>
                    <option value="url">URL</option>
                    <option value="social">Social Links</option>
                    <option value="imageUrl">Image</option>
                </select>
            </div>

            <!-- Text Input -->
            <div class="form-group" *ngIf="type === 'text'">
                <label for="text-input">Enter Text:</label>
                <textarea id="text-input" [(ngModel)]="text" class="text-input"
                    placeholder="Enter text for QR code"></textarea>
            </div>

            <!-- URL Input -->
            <div class="form-group" *ngIf="type === 'url'">
                <label for="url-input">Enter URL:</label>
                <input id="url-input" type="url" [(ngModel)]="url" class="text-input" placeholder="https://example.com">
            </div>

            <!-- Social Links -->
            <div *ngIf="type === 'social'" class="social-group">
                <h3>Social Media Links</h3>
                <p class="social-hint">Select which platforms to include in your QR code</p>

                <div class="social-platform">
                    <div class="checkbox-group">
                        <input id="facebook-check" type="checkbox" [(ngModel)]="socialPlatforms.facebook"
                            class="checkbox-input">
                        <label for="facebook-check" class="checkbox-label">Facebook</label>
                    </div>
                    <input id="facebook" type="text" [(ngModel)]="facebook" class="text-input"
                        placeholder="https://facebook.com/username" [disabled]="!socialPlatforms.facebook">
                </div>

                <div class="social-platform">
                    <div class="checkbox-group">
                        <input id="twitter-check" type="checkbox" [(ngModel)]="socialPlatforms.twitter"
                            class="checkbox-input">
                        <label for="twitter-check" class="checkbox-label">Twitter / X</label>
                    </div>
                    <input id="twitter" type="text" [(ngModel)]="twitter" class="text-input"
                        placeholder="https://twitter.com/username" [disabled]="!socialPlatforms.twitter">
                </div>

                <div class="social-platform">
                    <div class="checkbox-group">
                        <input id="instagram-check" type="checkbox" [(ngModel)]="socialPlatforms.instagram"
                            class="checkbox-input">
                        <label for="instagram-check" class="checkbox-label">Instagram</label>
                    </div>
                    <input id="instagram" type="text" [(ngModel)]="instagram" class="text-input"
                        placeholder="https://instagram.com/username" [disabled]="!socialPlatforms.instagram">
                </div>

                <div class="social-platform">
                    <div class="checkbox-group">
                        <input id="linkedin-check" type="checkbox" [(ngModel)]="socialPlatforms.linkedin"
                            class="checkbox-input">
                        <label for="linkedin-check" class="checkbox-label">LinkedIn</label>
                    </div>
                    <input id="linkedin" type="text" [(ngModel)]="linkedin" class="text-input"
                        placeholder="https://linkedin.com/in/username" [disabled]="!socialPlatforms.linkedin">
                </div>
            </div>

            <!-- Image Upload -->
            <div class="form-group" *ngIf="type === 'imageUrl'">
                <label for="image-url">Image URL:</label>
                <input id="image-url" type="url" [(ngModel)]="imageUrl" class="text-input"
                    placeholder="https://example.com/image.jpg">
                <p class="or-text">or</p>
                <label for="file-upload" class="file-label">Choose Image File:</label>
                <input id="file-upload" type="file" (change)="onFileChange($event)" accept="image/*" class="file-input">
                <span class="file-name" *ngIf="selectedFile">{{ selectedFile.name }}</span>
            </div>

            <!-- Size Input -->
            <div class="form-group">
                <label for="size-input">QR Code Size (px):</label>
                <input id="size-input" type="number" [(ngModel)]="size" min="100" max="1000" class="text-input">
            </div>

            <!-- Theme Selection -->
            <div class="form-group">
                <label for="theme-select">QR Theme:</label>
                <select id="theme-select" [(ngModel)]="theme" class="select-input">
                    <option value="classic">Classic</option>
                    <option value="indigo">Indigo</option>
                    <option value="sunset">Sunset</option>
                    <option value="forest">Forest</option>
                    <option value="midnight">Midnight</option>
                    <option value="custom">Custom</option>
                </select>
            </div>

            <!-- Custom Colors -->
            <div class="form-group" *ngIf="theme === 'custom'">
                <label for="fg-color">Foreground Color:</label>
                <input id="fg-color" type="color" [(ngModel)]="fgColor" class="select-input">
                <label for="bg-color">Background Color:</label>
                <input id="bg-color" type="color" [(ngModel)]="bgColor" class="select-input">
            </div>

            <!-- Generate Button -->
            <button (click)="generate()" class="btn btn-primary">Generate QR Code</button>
        </div>

        <!-- Preview Section -->
        <div class="preview-section" *ngIf="previewUrl">
            <h3>QR Code Preview</h3>
            <div class="preview-container">
                <img [src]="previewUrl" alt="QR Code Preview" class="qr-preview">
            </div>
            <a [href]="downloadUrl" download="qrcode.png" class="btn btn-success">Download PNG</a>
        </div>

        <!-- Empty State -->
        <div class="empty-state" *ngIf="!previewUrl">
            <div class="empty-icon">ðŸ“±</div>
            <p>Your QR code will appear here</p>
        </div>
    </div>
</div>
